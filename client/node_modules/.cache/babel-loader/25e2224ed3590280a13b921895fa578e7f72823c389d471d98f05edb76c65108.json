{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{GeneralContext}from'../context/GeneralContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var setIsLogin=_ref.setIsLogin;var _useContext=useContext(GeneralContext),setUsername=_useContext.setUsername,setEmail=_useContext.setEmail,setPassword=_useContext.setPassword,usertype=_useContext.usertype,setUsertype=_useContext.setUsertype,register=_useContext.register;var _useState=useState({username:'',email:'',password:'',usertype:''}),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var validateForm=function validateForm(){var newErrors={};// Username validation\nif(!formValues.username.trim()){newErrors.username='Username is required.';}else if(formValues.username.length<3){newErrors.username='Username must be at least 3 characters long.';}// Email validation\nif(!formValues.email.trim()){newErrors.email='Email is required.';}else if(!/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(formValues.email)){newErrors.email='Invalid email format.';}// Password validation\nif(!formValues.password.trim()){newErrors.password='Password is required.';}else if(formValues.password.length<6){newErrors.password='Password must be at least 6 characters long.';}// Usertype validation\nif(!formValues.usertype){newErrors.usertype='Please select a user type.';}setErrors(newErrors);// Return true if no errors\nreturn Object.keys(newErrors).length===0;};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));// Update context as the user types\nif(name==='username')setUsername(value);if(name==='email')setEmail(value);if(name==='password')setPassword(value);if(name==='usertype')setUsertype(value);};var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!validateForm()){_context.next=4;break;}_context.next=4;return register();case 4:case\"end\":return _context.stop();}},_callee);}));return function handleRegister(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"authForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInput\",name:\"username\",placeholder:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Username\"}),errors.username&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingEmail\",name:\"email\",placeholder:\"name@example.com\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingEmail\",children:\"Email address\"}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",name:\"password\",placeholder:\"Password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg mb-3\",name:\"usertype\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"User type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"flight-operator\",children:\"Flight Operator\"})]}),errors.usertype&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.usertype}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleRegister,children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already registered?\",' ',/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setIsLogin(true);},style:{cursor:'pointer',color:'blue'},children:\"Login\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useContext","GeneralContext","jsx","_jsx","jsxs","_jsxs","Register","_ref","setIsLogin","_useContext","setUsername","setEmail","setPassword","usertype","setUsertype","register","_useState","username","email","password","_useState2","_slicedToArray","formValues","setFormValues","_useState3","_useState4","errors","setErrors","validateForm","newErrors","trim","length","test","Object","keys","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleRegister","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","stop","_x","apply","arguments","className","children","type","id","placeholder","onChange","htmlFor","onClick","style","cursor","color"],"sources":["C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/src/components/Register.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { GeneralContext } from '../context/GeneralContext';\r\n\r\nconst Register = ({ setIsLogin }) => {\r\n  const {\r\n    setUsername,\r\n    setEmail,\r\n    setPassword,\r\n    usertype,\r\n    setUsertype,\r\n    register,\r\n  } = useContext(GeneralContext);\r\n\r\n  const [formValues, setFormValues] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    usertype: '',\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    // Username validation\r\n    if (!formValues.username.trim()) {\r\n      newErrors.username = 'Username is required.';\r\n    } else if (formValues.username.length < 3) {\r\n      newErrors.username = 'Username must be at least 3 characters long.';\r\n    }\r\n\r\n    // Email validation\r\n    if (!formValues.email.trim()) {\r\n      newErrors.email = 'Email is required.';\r\n    } else if (\r\n      !/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(formValues.email)\r\n    ) {\r\n      newErrors.email = 'Invalid email format.';\r\n    }\r\n\r\n    // Password validation\r\n    if (!formValues.password.trim()) {\r\n      newErrors.password = 'Password is required.';\r\n    } else if (formValues.password.length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters long.';\r\n    }\r\n\r\n    // Usertype validation\r\n    if (!formValues.usertype) {\r\n      newErrors.usertype = 'Please select a user type.';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n\r\n    // Return true if no errors\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n\r\n    // Update context as the user types\r\n    if (name === 'username') setUsername(value);\r\n    if (name === 'email') setEmail(value);\r\n    if (name === 'password') setPassword(value);\r\n    if (name === 'usertype') setUsertype(value);\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      await register();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"authForm\">\r\n      <h2>Register</h2>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          id=\"floatingInput\"\r\n          name=\"username\"\r\n          placeholder=\"username\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingInput\">Username</label>\r\n        {errors.username && <small className=\"text-danger\">{errors.username}</small>}\r\n      </div>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          id=\"floatingEmail\"\r\n          name=\"email\"\r\n          placeholder=\"name@example.com\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingEmail\">Email address</label>\r\n        {errors.email && <small className=\"text-danger\">{errors.email}</small>}\r\n      </div>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingPassword\">Password</label>\r\n        {errors.password && <small className=\"text-danger\">{errors.password}</small>}\r\n      </div>\r\n\r\n      <select\r\n        className=\"form-select form-select-lg mb-3\"\r\n        name=\"usertype\"\r\n        onChange={handleChange}\r\n      >\r\n        <option value=\"\">User type</option>\r\n        <option value=\"admin\">Admin</option>\r\n        <option value=\"customer\">Customer</option>\r\n        <option value=\"flight-operator\">Flight Operator</option>\r\n      </select>\r\n      {errors.usertype && <small className=\"text-danger\">{errors.usertype}</small>}\r\n\r\n      <button className=\"btn btn-primary\" onClick={handleRegister}>\r\n        Sign up\r\n      </button>\r\n      <p>\r\n        Already registered?{' '}\r\n        <span onClick={() => setIsLogin(true)} style={{ cursor: 'pointer', color: 'blue' }}>\r\n          Login\r\n        </span>\r\n      </p>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}