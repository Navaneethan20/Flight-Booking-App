{"ast":null,"code":"import React,{useState,useContext}from'react';import{GeneralContext}from'../context/GeneralContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{setIsLogin}=_ref;const{setUsername,setEmail,setPassword,usertype,setUsertype,register}=useContext(GeneralContext);const[formValues,setFormValues]=useState({username:'',email:'',password:'',usertype:''});const[errors,setErrors]=useState({});const validateForm=()=>{const newErrors={};// Username validation\nif(!formValues.username.trim()){newErrors.username='Username is required.';}else if(formValues.username.length<3){newErrors.username='Username must be at least 3 characters long.';}// Email validation\nif(!formValues.email.trim()){newErrors.email='Email is required.';}else if(!/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(formValues.email)){newErrors.email='Invalid email format.';}// Password validation\nif(!formValues.password.trim()){newErrors.password='Password is required.';}else if(formValues.password.length<6){newErrors.password='Password must be at least 6 characters long.';}// Usertype validation\nif(!formValues.usertype){newErrors.usertype='Please select a user type.';}setErrors(newErrors);// Return true if no errors\nreturn Object.keys(newErrors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormValues({...formValues,[name]:value});// Update context as the user types\nif(name==='username')setUsername(value);if(name==='email')setEmail(value);if(name==='password')setPassword(value);if(name==='usertype')setUsertype(value);};const handleRegister=async e=>{e.preventDefault();if(validateForm()){await register();}};return/*#__PURE__*/_jsxs(\"form\",{className:\"authForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInput\",name:\"username\",placeholder:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Username\"}),errors.username&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingEmail\",name:\"email\",placeholder:\"name@example.com\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingEmail\",children:\"Email address\"}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",name:\"password\",placeholder:\"Password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg mb-3\",name:\"usertype\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"User type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"flight-operator\",children:\"Flight Operator\"})]}),errors.usertype&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.usertype}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleRegister,children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already registered?\",' ',/*#__PURE__*/_jsx(\"span\",{onClick:()=>setIsLogin(true),style:{cursor:'pointer',color:'blue'},children:\"Login\"})]})]});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}