{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../styles/NewFlight.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const NewFlight=()=>{const[userDetails,setUserDetails]=useState();useEffect(()=>{fetchUserData();},[]);const fetchUserData=async()=>{try{const id=localStorage.getItem('userId');await axios.get(`https://flight-booking-mern-webapp.onrender.com/fetch-user/${id}`).then(response=>{setUserDetails(response.data);console.log(response.data);});}catch(err){}};const[flightName,setFlightName]=useState(localStorage.getItem('username'));const[flightId,setFlightId]=useState('');const[origin,setOrigin]=useState('');const[destination,setDestination]=useState('');const[startTime,setStartTime]=useState('');const[arrivalTime,setArrivalTime]=useState('');const[totalSeats,setTotalSeats]=useState(0);const[basePrice,setBasePrice]=useState(0);const handleSubmit=async()=>{const inputs={flightName,flightId,origin,destination,departureTime:startTime,arrivalTime,basePrice,totalSeats};await axios.post('https://flight-booking-mern-webapp.onrender.com/add-Flight',inputs).then(async response=>{alert('Flight added successfully!!');setFlightName('');setFlightId('');setOrigin('');setStartTime('');setArrivalTime('');setDestination('');setBasePrice(0);setTotalSeats(0);});};return/*#__PURE__*/_jsx(\"div\",{className:\"NewFlightPage\",children:userDetails?/*#__PURE__*/_jsx(_Fragment,{children:userDetails.approval==='not-approved'?/*#__PURE__*/_jsxs(\"div\",{className:\"notApproved-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Approval Required!!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your application is under processing. It needs an approval from the administrator. Kindly please be patience!!\"})]}):userDetails.approval==='approved'?/*#__PURE__*/_jsxs(\"div\",{className:\"NewFlightPageContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add new Flight\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"newFlightSpan1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInputemail\",value:flightName,onChange:e=>setFlightName(e.target.value),disabled:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInputemail\",children:\"Flight Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInputmobile\",value:flightId,onChange:e=>setFlightId(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInputmobile\",children:\"Flight Id\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm mb-3\",\"aria-label\":\".form-select-sm example\",value:origin,onChange:e=>setOrigin(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,disabled:true,children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Chennai\",children:\"Chennai\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Banglore\",children:\"Banglore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hyderabad\",children:\"Hyderabad\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mumbai\",children:\"Mumbai\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Indore\",children:\"Indore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delhi\",children:\"Delhi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pune\",children:\"Pune\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Trivendrum\",children:\"Trivendrum\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bhopal\",children:\"Bhopal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kolkata\",children:\"Kolkata\"}),/*#__PURE__*/_jsx(\"option\",{value:\"varanasi\",children:\"varanasi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Jaipur\",children:\"Jaipur\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingSelect\",children:\"Departure City\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",className:\"form-control\",id:\"floatingInputmobile\",value:startTime,onChange:e=>setStartTime(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInputmobile\",children:\"Departure Time\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm mb-3\",\"aria-label\":\".form-select-sm example\",value:destination,onChange:e=>setDestination(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,disabled:true,children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Chennai\",children:\"Chennai\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Banglore\",children:\"Banglore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hyderabad\",children:\"Hyderabad\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mumbai\",children:\"Mumbai\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Indore\",children:\"Indore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delhi\",children:\"Delhi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pune\",children:\"Pune\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Trivendrum\",children:\"Trivendrum\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bhopal\",children:\"Bhopal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kolkata\",children:\"Kolkata\"}),/*#__PURE__*/_jsx(\"option\",{value:\"varanasi\",children:\"varanasi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Jaipur\",children:\"Jaipur\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingSelect\",children:\"Destination City\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",className:\"form-control\",id:\"floatingInputArrivalTime\",value:arrivalTime,onChange:e=>setArrivalTime(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInputArrivalTime\",children:\"Arrival time\"})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"newFlightSpan2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"floatingInpuSeats\",value:totalSeats,onChange:e=>setTotalSeats(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlhtmlFor:\"floatingInpuSeats\",children:\"Total seats\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"floatingInputBasePrice\",value:basePrice,onChange:e=>setBasePrice(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlhtmlFor:\"floatingInputBasePrice\",children:\"Base price\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSubmit,children:\"Add now\"})]}):\"\"}):\"\"});};export default NewFlight;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}