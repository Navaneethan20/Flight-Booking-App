{"ast":null,"code":"import React,{useState,useContext}from'react';import{GeneralContext}from'../context/GeneralContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{setIsLogin}=_ref;const{setUsername,setEmail,setPassword,usertype,setUsertype,register}=useContext(GeneralContext);const[formValues,setFormValues]=useState({username:'',email:'',password:'',usertype:''});const[errors,setErrors]=useState({});const validateForm=()=>{const newErrors={};// Username validation\nif(!formValues.username.trim()){newErrors.username='Username is required.';}else if(formValues.username.length<3){newErrors.username='Username must be at least 3 characters long.';}// Email validation\nif(!formValues.email.trim()){newErrors.email='Email is required.';}else if(!/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(formValues.email)){newErrors.email='Invalid email format.';}// Password validation\nif(!formValues.password.trim()){newErrors.password='Password is required.';}else if(formValues.password.length<6){newErrors.password='Password must be at least 6 characters long.';}// Usertype validation\nif(!formValues.usertype){newErrors.usertype='Please select a user type.';}setErrors(newErrors);// Return true if no errors\nreturn Object.keys(newErrors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormValues({...formValues,[name]:value});// Update context as the user types\nif(name==='username')setUsername(value);if(name==='email')setEmail(value);if(name==='password')setPassword(value);if(name==='usertype')setUsertype(value);};const handleRegister=async e=>{e.preventDefault();if(validateForm()){await register();}};return/*#__PURE__*/_jsxs(\"form\",{className:\"authForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInput\",name:\"username\",placeholder:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Username\"}),errors.username&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingEmail\",name:\"email\",placeholder:\"name@example.com\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingEmail\",children:\"Email address\"}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",name:\"password\",placeholder:\"Password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg mb-3\",name:\"usertype\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"User type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"flight-operator\",children:\"Flight Operator\"})]}),errors.usertype&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.usertype}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleRegister,children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already registered?\",' ',/*#__PURE__*/_jsx(\"span\",{onClick:()=>setIsLogin(true),style:{cursor:'pointer',color:'blue'},children:\"Login\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useContext","GeneralContext","jsx","_jsx","jsxs","_jsxs","Register","_ref","setIsLogin","setUsername","setEmail","setPassword","usertype","setUsertype","register","formValues","setFormValues","username","email","password","errors","setErrors","validateForm","newErrors","trim","length","test","Object","keys","handleChange","e","name","value","target","handleRegister","preventDefault","className","children","type","id","placeholder","onChange","htmlFor","onClick","style","cursor","color"],"sources":["C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/src/components/Register.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { GeneralContext } from '../context/GeneralContext';\r\n\r\nconst Register = ({ setIsLogin }) => {\r\n  const {\r\n    setUsername,\r\n    setEmail,\r\n    setPassword,\r\n    usertype,\r\n    setUsertype,\r\n    register,\r\n  } = useContext(GeneralContext);\r\n\r\n  const [formValues, setFormValues] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    usertype: '',\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    // Username validation\r\n    if (!formValues.username.trim()) {\r\n      newErrors.username = 'Username is required.';\r\n    } else if (formValues.username.length < 3) {\r\n      newErrors.username = 'Username must be at least 3 characters long.';\r\n    }\r\n\r\n    // Email validation\r\n    if (!formValues.email.trim()) {\r\n      newErrors.email = 'Email is required.';\r\n    } else if (\r\n      !/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/.test(formValues.email)\r\n    ) {\r\n      newErrors.email = 'Invalid email format.';\r\n    }\r\n\r\n    // Password validation\r\n    if (!formValues.password.trim()) {\r\n      newErrors.password = 'Password is required.';\r\n    } else if (formValues.password.length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters long.';\r\n    }\r\n\r\n    // Usertype validation\r\n    if (!formValues.usertype) {\r\n      newErrors.usertype = 'Please select a user type.';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n\r\n    // Return true if no errors\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n\r\n    // Update context as the user types\r\n    if (name === 'username') setUsername(value);\r\n    if (name === 'email') setEmail(value);\r\n    if (name === 'password') setPassword(value);\r\n    if (name === 'usertype') setUsertype(value);\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      await register();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"authForm\">\r\n      <h2>Register</h2>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          id=\"floatingInput\"\r\n          name=\"username\"\r\n          placeholder=\"username\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingInput\">Username</label>\r\n        {errors.username && <small className=\"text-danger\">{errors.username}</small>}\r\n      </div>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          id=\"floatingEmail\"\r\n          name=\"email\"\r\n          placeholder=\"name@example.com\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingEmail\">Email address</label>\r\n        {errors.email && <small className=\"text-danger\">{errors.email}</small>}\r\n      </div>\r\n\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          onChange={handleChange}\r\n        />\r\n        <label htmlFor=\"floatingPassword\">Password</label>\r\n        {errors.password && <small className=\"text-danger\">{errors.password}</small>}\r\n      </div>\r\n\r\n      <select\r\n        className=\"form-select form-select-lg mb-3\"\r\n        name=\"usertype\"\r\n        onChange={handleChange}\r\n      >\r\n        <option value=\"\">User type</option>\r\n        <option value=\"admin\">Admin</option>\r\n        <option value=\"customer\">Customer</option>\r\n        <option value=\"flight-operator\">Flight Operator</option>\r\n      </select>\r\n      {errors.usertype && <small className=\"text-danger\">{errors.usertype}</small>}\r\n\r\n      <button className=\"btn btn-primary\" onClick={handleRegister}>\r\n        Sign up\r\n      </button>\r\n      <p>\r\n        Already registered?{' '}\r\n        <span onClick={() => setIsLogin(true)} style={{ cursor: 'pointer', color: 'blue' }}>\r\n          Login\r\n        </span>\r\n      </p>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}