{"ast":null,"code":"import _objectSpread from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{GeneralContext}from'../context/GeneralContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var setIsLogin=_ref.setIsLogin;var _useContext=useContext(GeneralContext),login=_useContext.login;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],SetEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],SetPassword=_useState4[1];var _useState5=useState({email:'',password:''}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newErrors;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();newErrors={};if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)){newErrors.email='Invalid email format.';}if(password.trim().length<6){newErrors.password='Password must be at least 6 characters.';}if(!(Object.keys(newErrors).length>0)){_context.next=7;break;}setErrors(newErrors);return _context.abrupt(\"return\");case 7:_context.next=9;return login(email,password);case 9:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"authForm\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",value:email,onChange:function onChange(e){SetEmail(e.target.value);setErrors(_objectSpread(_objectSpread({},errors),{},{email:''}));}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"}),errors.email&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3 authFormInputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",value:password,onChange:function onChange(e){SetPassword(e.target.value);setErrors(_objectSpread(_objectSpread({},errors),{},{password:''}));}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"}),errors.password&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Not registered? \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setIsLogin(false);},children:\"Register\"})]})]});};export default Login;","map":{"version":3,"names":["React","useContext","useState","GeneralContext","jsx","_jsx","jsxs","_jsxs","Login","_ref","setIsLogin","_useContext","login","_useState","_useState2","_slicedToArray","email","SetEmail","_useState3","_useState4","password","SetPassword","_useState5","_useState6","errors","setErrors","handleLogin","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","newErrors","wrap","_callee$","_context","prev","next","preventDefault","test","trim","length","Object","keys","abrupt","stop","_x","apply","arguments","className","onSubmit","children","type","id","placeholder","value","onChange","target","_objectSpread","htmlFor","style","color","onClick"],"sources":["C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/src/components/Login.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { GeneralContext } from '../context/GeneralContext';\r\n\r\nconst Login = ({ setIsLogin }) => {\r\n  const { login } = useContext(GeneralContext);\r\n  const [email, SetEmail] = useState('');\r\n  const [password, SetPassword] = useState('');\r\n  const [errors, setErrors] = useState({ email: '', password: '' });\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const newErrors = {};\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n      newErrors.email = 'Invalid email format.';\r\n    }\r\n    if (password.trim().length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters.';\r\n    }\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      return;\r\n    }\r\n\r\n    \r\n\r\n    await login(email, password);\r\n  };\r\n\r\n  return (\r\n    <form className=\"authForm\" onSubmit={handleLogin}>\r\n      <h2>Login</h2>\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          id=\"floatingInput\"\r\n          placeholder=\"name@example.com\"\r\n          value={email}\r\n          onChange={(e) => {\r\n            SetEmail(e.target.value);\r\n            setErrors({ ...errors, email: '' });\r\n          }}\r\n        />\r\n        <label  htmlFor=\"floatingInput\">Email address</label>\r\n        {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\r\n      </div>\r\n      <div className=\"form-floating mb-3 authFormInputs\">\r\n        <input\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => {\r\n            SetPassword(e.target.value);\r\n            setErrors({ ...errors, password: '' });\r\n          }}\r\n        />\r\n        <label htmlFor=\"floatingPassword\">Password</label>\r\n        {errors.password && <p style={{ color: 'red' }}>{errors.password}</p>}\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary\">\r\n        Sign in\r\n      </button>\r\n      <p>\r\n        Not registered? <span onClick={() => setIsLogin(false)}>Register</span>\r\n      </p>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}