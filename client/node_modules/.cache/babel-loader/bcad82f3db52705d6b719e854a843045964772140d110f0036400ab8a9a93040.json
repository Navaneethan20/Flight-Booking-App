{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/AllFlights.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AllFlights=()=>{const[flights,setFlights]=useState([]);const[isLoading,setIsLoading]=useState(true);const navigate=useNavigate();const fetchFlights=async()=>{try{setIsLoading(true);const response=await fetch('https://flight-booking-mern-webapp.onrender.com/fetch-flights');const data=await response.json();setFlights(data);}catch(error){console.error('Error fetching flights:',error);}finally{setIsLoading(false);}};useEffect(()=>{fetchFlights();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Flights Available\"}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-btn\",onClick:fetchFlights,children:\"Refresh Flights\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Flights\"}),/*#__PURE__*/_jsx(\"p\",{children:flights.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Seats\"}),/*#__PURE__*/_jsx(\"p\",{children:flights.reduce((acc,flight)=>acc+flight.totalSeats,0)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flights-grid\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading flights...\"}):flights.map(flight=>/*#__PURE__*/_jsxs(\"div\",{className:\"flight-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:flight.flightName}),/*#__PURE__*/_jsxs(\"span\",{className:\"flight-id\",children:[\"ID: \",flight.flightId]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flight-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.origin?flight.origin.slice(0,3).toUpperCase():\"N/A\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.destination?flight.destination.slice(0,3).toUpperCase():\"N/A\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.departureTime})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.arrivalTime})})]})]})]},flight._id))})]});};export default AllFlights;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}