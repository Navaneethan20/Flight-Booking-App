{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Plane}from'lucide-react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SeatBooking=_ref=>{let{onBack,onProceedToBooking}=_ref;const[selectedSeats,setSelectedSeats]=useState([]);const{state}=useNavigate().location||{};// Use location to access passed state (if any)\nconst[seatMap,setSeatMap]=useState([]);const navigate=useNavigate();const ROWS=15;const SEATS_PER_ROW=6;useEffect(()=>{const initialSeatMap=[];for(let row=0;row<ROWS;row++){const seatRow=[];for(let seat=0;seat<SEATS_PER_ROW;seat++){const seatNumber=`${row+1}${String.fromCharCode(65+seat)}`;seatRow.push({id:seatNumber,isBooked:Math.random()<0.3,isSelected:false});}initialSeatMap.push(seatRow);}setSeatMap(initialSeatMap);},[]);const handleSeatClick=(rowIndex,seatIndex)=>{const seat=seatMap[rowIndex][seatIndex];if(seat.isBooked)return;const newSeatMap=[...seatMap];const seatNumber=seat.id;if(selectedSeats.includes(seatNumber)){setSelectedSeats(selectedSeats.filter(s=>s!==seatNumber));newSeatMap[rowIndex][seatIndex].isSelected=false;}else{setSelectedSeats([...selectedSeats,seatNumber]);newSeatMap[rowIndex][seatIndex].isSelected=true;}setSeatMap(newSeatMap);};const handleProceed=()=>{if(selectedSeats.length===0){alert('Please select at least one seat');return;}console.log('Proceeding with seats: ',selectedSeats);alert('Booking successful!');// Navigate to the booking page and pass selected seats as part of the state\nnavigate('/bookings',{state:{selectedSeats}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"seat-booking-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(Plane,{}),\" Select Your Seats\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color available\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color selected\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Selected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-color booked\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Booked\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"airplane-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"airplane-nose\"}),/*#__PURE__*/_jsx(\"div\",{className:\"seat-map\",children:seatMap.map((row,rowIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"seat-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"seat-group\",children:row.slice(0,3).map((seat,seatIndex)=>/*#__PURE__*/_jsx(\"button\",{className:`seat ${seat.isBooked?'booked':''} ${seat.isSelected?'selected':''}`,onClick:()=>handleSeatClick(rowIndex,seatIndex),disabled:seat.isBooked,children:seat.id},seat.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"seat-group\",children:row.slice(3).map((seat,seatIndex)=>/*#__PURE__*/_jsx(\"button\",{className:`seat ${seat.isBooked?'booked':''} ${seat.isSelected?'selected':''}`,onClick:()=>handleSeatClick(rowIndex,seatIndex+3),disabled:seat.isBooked,children:seat.id},seat.id))})]},rowIndex))})]}),selectedSeats.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected-seats-alert\",children:[\"Selected seats: \",selectedSeats.join(', ')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:onBack,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button primary\",onClick:handleProceed,disabled:selectedSeats.length===0,children:\"Proceed to Booking\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        .seat-booking-container {\n          min-height: 100vh;\n          background-color: #f5f5f5;\n          padding: 2rem;\n          display: flex;\n          justify-content: center; /* Centers the seat numbers horizontally */\n          align-items: center; /* Centers the seat numbers vertically if required */\n          flex-wrap: wrap; /* Wraps seats if there are many */\n        }\n\n        .booking-card {\n          background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 500px; /* Smaller width */\n  margin: 20px auto; /* Adjusted margin to ensure it doesn't overlap with navbar */\n  padding: 10px;\n  position: relative; /* Ensure the position is relative if necessary */\n  z-index: 1; /* To stay on top if there's any overlap */\n        }\n\n        .card-header {\n          padding: 1.5rem;\n          border-bottom: 1px solid #eee;\n        }\n\n        .card-title {\n          font-size: 1.5rem;\n          font-weight: 600;\n          margin: 0;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .card-content {\n          padding: 1.5rem;\n        }\n\n        .legend {\n          display: flex;\n          justify-content: center;\n          gap: 2rem;\n          margin-bottom: 2rem;\n        }\n\n        .legend-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: #64748b;\n        }\n\n        .legend-color {\n          width: 24px;\n          height: 24px;\n          border-radius: 4px;\n        }\n\n        .legend-color.available {\n          background-color: #e2e8f0;\n        }\n\n        .legend-color.selected {\n          background-color: #3b82f6;\n        }\n\n        .legend-color.booked {\n          background-color: #94a3b8;\n        }\n\n        .airplane-container {\n          position: relative;\n          margin-bottom: 2rem;\n        }\n\n        .airplane-nose {\n          width: 128px;\n          height: 128px;\n          background-color: #e2e8f0;\n          border-radius: 64px 64px 0 0;\n          margin: 0 auto 1rem;\n        }\n\n        .seat-map {\n          background: white;\n          border-radius: 8px;\n          padding: 2rem;\n          box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .seat-row {\n          display: flex;\n          justify-content: center;\n          gap: 2rem;\n          margin-bottom: 1rem;\n        }\n\n        .seat-group {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .seat {\n          width: 40px;\n          height: 40px;\n          border: none;\n          border-radius: 8px 8px 0 0;\n          background-color: #e2e8f0;\n          color: #1e293b;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          margin: 5px;\n          padding: 10px;\n          text-align: center;\n        }\n\n        \n       \n        .seat:hover:not(:disabled) {\n          background-color: #cbd5e1;\n        }\n\n        .seat.selected {\n          background-color: #3b82f6;\n          color: white;\n        }\n\n        .seat.selected:hover {\n          background-color: #2563eb;\n        }\n\n        .seat.booked {\n          background-color: #94a3b8;\n          cursor: not-allowed;\n          color: #e2e8f0;\n        }\n\n        .selected-seats-alert {\n          background-color: #f0f9ff;\n          border: 1px solid #bae6fd;\n          color: #0369a1;\n          padding: 1rem;\n          border-radius: 4px;\n          margin-bottom: 1.5rem;\n        }\n\n        .button-container {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .button {\n          padding: 0.75rem 1.5rem;\n          border-radius: 4px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          border: none;\n        }\n\n        .button.primary {\n          background-color: #3b82f6;\n          color: white;\n        }\n\n        .button.primary:hover:not(:disabled) {\n          background-color: #2563eb;\n        }\n\n        .button.primary:disabled {\n          background-color: #94a3b8;\n          cursor: not-allowed;\n        }\n\n        .button.secondary {\n          background-color: white;\n          border: 1px solid #e2e8f0;\n          color: #1e293b;\n        }\n\n        .button.secondary:hover {\n          background-color: #f8fafc;\n        }\n\n        @media (max-width: 640px) {\n          .seat-booking-container {\n            padding: 1rem;\n          }\n\n          .seat {\n            width: 32px;\n            height: 32px;\n            font-size: 0.75rem;\n          }\n\n          .seat-row {\n            gap: 1rem;\n          }\n\n          .legend {\n            flex-wrap: wrap;\n            gap: 1rem;\n          }\n        }\n      `})]});};export default SeatBooking;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}