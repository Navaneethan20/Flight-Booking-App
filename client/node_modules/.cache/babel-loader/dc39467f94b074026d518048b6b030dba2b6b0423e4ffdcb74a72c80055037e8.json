{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/AllFlights.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllFlights=function AllFlights(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),flights=_useState2[0],setFlights=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var navigate=useNavigate();var fetchFlights=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoading(true);_context.next=4;return fetch('https://flight-booking-mern-webapp.onrender.com/fetch-flights');case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setFlights(data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('Error fetching flights:',_context.t0);case 14:_context.prev=14;setIsLoading(false);return _context.finish(14);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,11,14,17]]);}));return function fetchFlights(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchFlights();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Flights Available\"}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-btn\",onClick:fetchFlights,children:\"Refresh Flights\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Flights\"}),/*#__PURE__*/_jsx(\"p\",{children:flights.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Seats\"}),/*#__PURE__*/_jsx(\"p\",{children:flights.reduce(function(acc,flight){return acc+flight.totalSeats;},0)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flights-grid\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading flights...\"}):flights.map(function(flight){return/*#__PURE__*/_jsxs(\"div\",{className:\"flight-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:flight.flightName}),/*#__PURE__*/_jsxs(\"span\",{className:\"flight-id\",children:[\"ID: \",flight.flightId]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flight-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.origin?flight.origin.slice(0,3).toUpperCase():\"N/A\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.destination?flight.destination.slice(0,3).toUpperCase():\"N/A\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.departureTime})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-group\",children:/*#__PURE__*/_jsx(\"p\",{children:flight.arrivalTime})})]})]})]},flight._id);})})]});};export default AllFlights;","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AllFlights","_useState","_useState2","_slicedToArray","flights","setFlights","_useState3","_useState4","isLoading","setIsLoading","navigate","fetchFlights","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","finish","stop","apply","arguments","className","children","onClick","length","reduce","acc","flight","totalSeats","map","flightName","flightId","origin","slice","toUpperCase","destination","departureTime","arrivalTime","_id"],"sources":["C:/Users/Navaneethan/Downloads/Flight-Booking-MERN-Webapp/client/src/pages/AllFlights.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/AllFlights.css';\r\n\r\nconst AllFlights = () => {\r\n  const [flights, setFlights] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  const fetchFlights = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await fetch('https://flight-booking-mern-webapp.onrender.com/fetch-flights');\r\n      const data = await response.json();\r\n      setFlights(data);\r\n    } catch (error) {\r\n      console.error('Error fetching flights:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFlights();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <header className=\"dashboard-header\">\r\n        <h1>Flights Available</h1>\r\n        <button className=\"refresh-btn\" onClick={fetchFlights}>\r\n          Refresh Flights\r\n        </button>\r\n      </header>\r\n\r\n      <div className=\"summary-stats\">\r\n        <div className=\"stat-card\">\r\n          <h3>Total Flights</h3>\r\n          <p>{flights.length}</p>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <h3>Total Seats</h3>\r\n          <p>{flights.reduce((acc, flight) => acc + flight.totalSeats, 0)}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flights-grid\">\r\n        {isLoading ? (\r\n          <div className=\"loading\">Loading flights...</div>\r\n        ) : (\r\n          flights.map((flight) => (\r\n            <div className=\"flight-card\" key={flight._id}>\r\n              <div className=\"flight-header\">\r\n                <h2>{flight.flightName}</h2>\r\n                <span className=\"flight-id\">ID: {flight.flightId}</span>\r\n              </div>\r\n              \r\n              <div className=\"flight-details\">\r\n                <div className=\"detail-row\">\r\n                  <div className=\"detail-group\">\r\n                  <p>{flight.origin ? flight.origin.slice(0, 3).toUpperCase() : \"N/A\"}</p>\r\n                  </div>\r\n                  <div className=\"detail-group\">\r\n                  <p>{flight.destination ? flight.destination.slice(0, 3).toUpperCase() : \"N/A\"}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"detail-row\">\r\n                  <div className=\"detail-group\">\r\n                    <p>{flight.departureTime}</p>\r\n                  </div>\r\n                  <div className=\"detail-group\">\r\n                    <p>{flight.arrivalTime}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllFlights;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}